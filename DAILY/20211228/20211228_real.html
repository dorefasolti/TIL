<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        
        <style>
            form ul{
                list-style: none;
            }
            </style>

<script>
    $(function(){
            $('#myForm').css('display', 'none') //꼭 스타일 영역에서 숨기지 않아도 된다
            $('.open').click(function(){
                $('#myForm').css('display', 'block');
            })
            
            $('.cancle').click(function(){
                $('#myForm').css('display', 'none');
                
            })
            
            // blur <-->focus 
            // 포커스에서 벗어나는 순간 실행된다
            $('#userId').blur(function(){
                var $value = $('#userId').val();
                var reg = /^[A-Z][a-zA-Z]{7,}$/;
                if(!reg.test($value)){
                    alert('일치하지않는다조건다시확인 8글자이상, 첫글자는 대문자, 영문자만 가능');
                    $('#userId').val('');
                }
                else{
                    $('#label1').text('잘했다').css('color', 'green');
                }

            })
            $('form').submit(function(){
                var $rcheck = $('.gender1:checked').length; 
                //클래스가 젠더1이고 체크된거 모두 선택하겠다
                // 라디오는 하나만 선택, 선택하지 않음이니까 0아니면 1일 수밖에 없음 
                // 배열에 아무것도 들어있지 않으면 체크되지 않았다는것
                if($rcheck == 0){
                    alert('성별을 선택하세요');
                    return false;
                }
                
                // 서브밋 이벤트가 발생할 때, 오류메시지 취소버튼 누르고 전송 누르면 전송된다
                // 이 문제를 해결해보자 서브밋을 못하게 하는 방법
                if($('#userId').val() == false){
                    return false;
                }
            })


        })
    </script>
</head>
<body>
    <h2>회원가입을 클릭하세요</h2>   

    <button class="open">회원가입</button>

    <div class="form-popup" id="myForm">
        <form action="result.html">
            <fieldset>
                <legend>회원가입</legend>

                <ul>
                    <li> <label for="userId"> 아이디</label></li>

                    <li> <input type="text" id="userId" name="userId" size="10" required></li>

                    <label id="label1"></label>
                    <br>
                    <li>성별</li>
                    <li>
                        <label for="">남</label>
                        <!-- 여기서 value를 넣어주는 이요
                        서버로 보낼 때 키, 밸류 묶어서 보내야 함
                        밸류 만들어줘야한다 -->
                        <input type="radio" name="gender" value="M" class="gender1">
                        <label for="">여</label>
                        <input type="radio" name="gender" value="F" class="gender1">
                    </li>
                    <br>

                    <li>
                        <input type="submit" value="회원가입">
                        <input type="reset" value="취소" class="cancle">
                    </li>
                </ul>
            </fieldset>
        </form>
    </div>
    

</body>
</html>
