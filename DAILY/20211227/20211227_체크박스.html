<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
 
</head>
<body>
    <h3>체크박스</h3>   
    <div class="wrapper">
        <div>
            <input type="checkbox" id="all" name="all" class="batch"> <label for="all">전체</label> 
            <input type="checkbox" id="java" name="java"  class="batch"> <label for="java">자바</label> 
            <input type="checkbox" id="sec" name="sec" class="batch"> <label for="sec">보안</label> 

        </div>

        <hr>

        <div>
            <input type="checkbox" class="java chk">자바<div>java</div>
            <input type="checkbox" class="sec chk">보안<div>os</div>
            <input type="checkbox" class="java chk">자바<div>oracle</div>
            <input type="checkbox" class="sec chk">보안<div>network</div>
            <input type="checkbox" class="java chk">자바<div>web</div>
        </div>
    </div>

    <script>
        $(function(){
            

            
            // change : 바뀌면! 
            
            
            $('.batch').on('change', function(){
                // 윗줄에서 하나라도 체크해제된다면 전체 체크가 해제되도록 한다
                // 전체선택 상태에서 자바를 체크해제한다면 보안만 체크되어있도록
                
                if($(this).prop('checked') == false){
                    $('#all').prop('checked', false);
                }
                // 자바 보안 체크하면 전체도 같이 체크하도록 만들어보자
                if($('#java').prop('checked')==true && $('#sec').prop('checked')){
                    $('#all').prop('checked', true);

                }
            })
            
            
            $('#java').on('change', function(){

            var $java = $('#java').prop('checked'); //속성값만 부여하면 getter처럼 사용 가능(속성에 대한 값 받아올수있음)
            if($java){
                $('.java').prop('checked', true);

            }
            else{
                $('.java').prop('checked', false);

            }
            })


            $('#sec').on('change', function(){
                var $sec = $('#sec').prop('checked');

                if($sec){
                    $('.sec').prop('checked', true);
                }
                else{
                    $('.sec').prop('checked', false);
                }
            })

            $('#all').on('change', function(){
                var $all = $('#all').prop('checked');

                if($all){
                    $('.chk').prop('checked', true);
                    $('.batch').prop('checked', true); //위에 있는 자바, 보안도 체크되도록
                }
                else{
                    $('.chk').prop('checked', false);
                    $('.batch').prop('checked', false);
                }
            })


        })
    </script>
</body>
</html>