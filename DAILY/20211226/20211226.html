<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    
</head>
<body>
    <fieldset>
        <legend>문제3</legend>
        <h3>전체선택버튼을 클릭하면 체크항목을 모두 체크하거나 모두 해제해주세요</h3>
        <input type="checkbox" name="cb" id="all" onclick="test();"> <label for="all">전체선택</label>  <br>
        <input type="checkbox" name="cb" id="java"> <label for="java">Java</label> <br>
        <input type="checkbox" name="cb" id="db"> <label for="db">DataBase</label>  <br>
        <input type="checkbox" name="cb" id="web"> <label for="web">Web</label> <br>
    </fieldset>
    <fieldset>
        <legend>문제3</legend>
        <h3>전체선택버튼을 클릭하면 체크항목을 모두 체크하거나 모두 해제해주세요</h3>
        <input type="checkbox" name="all" id="alld" onclick="answer03(this.checked);"> <label for="alld">전체선택</label>  <br>
        <!-- 함수.. this를쓰면 본인이 날아감 this.checked -> 체크여부가날아감 -->
        <input type="checkbox" name="subject" id="javad"> <label for="javad">Java</label> <br>
        <input type="checkbox" name="subject" id="dbd"> <label for="dbd">DataBase</label>  <br>
        <input type="checkbox" name="subject" id="webd"> <label for="webd">Web</label> <br>
    </fieldset>

    <script>
        function test(){
            var a = document.getElementById('all');
            console.log(a.checked);
            console.log($("#all").is(':checked'));
            if($("#all").is(':checked')){
                $('#all').siblings().attr('checked', true);
                
            }
            else{
                $('#all').siblings().attr('checked', false);
            }
        }

        function answer03(ch){
            console.log($('input[name=all]'))
            // 길이가 1인 배열
            console.log($('input[name=all]')[0].checked)
            console.log(ch);

            if(ch){
                // $('fieldset').children('input[name=subject]').attr('checked', true);
                // if(name속성값이 subject인 애들 중에서 현재 체크된 애들 킵, 안된애들 체크)
                // database 체크된상태에서 전체선택하고 전체선택해제하면 db는 여전히 체크되어있음
                // 체크박스 사용할 때는 attr 사용하지 않기!
                // prop메소드 활용!
                // prop() : 속성값을 가져오거나 추가해주는 메소드
                $('input[name=subject').prop('checked', true);
            }
            else{
                // $('fieldset').children('input[name=subject]').attr('checked', false);
                $('input[name=subject').prop('checked', false);

            }
        }

    </script>
</body>
</html>